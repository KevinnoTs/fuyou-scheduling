# 医院排班管理系统 - 概念定义

## 日期类型统一定义

为了简化工时计算和系统逻辑，本项目统一使用以下概念：

### 放假日
**定义**：不需要上班的日期
**包含**：
- 周末（周六、周日）
- 法定节假日（如：国庆节、春节、劳动节等）

**说明**：调休的周末不算放假日，因为需要上班

### 工作日
**定义**：需要正常上班的日期
**包含**：
- 周一至周五（正常工作日）
- 调休工作日（因节假日连放而需要上班的周末）

**说明**：调休工作日虽然原本是周末，但因为节假日安排需要上班

## 实现方式

### 代码中的统一方法

在 `app/holiday_utils/holidays.py` 中提供了两个核心方法：

```python
# 判断是否为放假日
holiday_helper.is_holiday("2025-10-08")  # 返回 True/False

# 判断是否为工作日
holiday_helper.is_workday("2025-10-08")   # 返回 True/False
```

### 判断逻辑

```python
def is_holiday(date_str):
    # 1. 如果是调休工作日 → 工作日
    # 2. 如果是法定节假日 → 放假日
    # 3. 如果是周末（周六日）→ 放假日
    # 4. 其他情况 → 工作日
```

## 应用场景

### 1. 排班模板颜色标记
- 放假日：红色粗体
- 工作日：黑色

### 2. 工时计算
```python
# 计算某月的工作日天数
work_days = [d for d in month_dates if holiday_helper.is_workday(d)]

# 计算某月的放假日天数
holidays = [d for d in month_dates if holiday_helper.is_holiday(d)]
```

### 3. 排班统计
- 统计医生的工作日排班数量
- 计算休息日和节假日安排
- 生成月度工时报表

## 调休处理示例

```
2025年国庆节假期安排：
- 10月1日-7日：法定节假日（放假日）
- 10月12日（周六）：调休工作日（工作日）

结果：
- 10月12日显示为黑色（工作日）
- 10月1日-7日显示为红色（放假日）
```

## 术语使用规范

在项目文档、代码注释、用户界面中统一使用：

- "放假日" - 不使用"休息日"、"假期日"
- "工作日" - 不使用"上班日"、"工作日期"
- "调休" - 仅在技术细节中提及，用户界面简化处理

## 界面显示

- 排班模板：工作日显示黑色，放假日显示红色
- 调休信息：在后台处理，用户界面显示为正常工作日
- 统计报表：基于统一的放假日/工作日概念计算

---

*此概念定义适用于整个医院排班管理系统，确保逻辑一致性和用户体验的简洁性。*