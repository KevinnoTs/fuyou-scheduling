# 霞鹜新晰黑字体设置指南

## 概述

本文档介绍如何在医院排班管理系统中统一使用霞鹜新晰黑字体，提供更好的中文显示效果。

## 字体介绍

### 霞鹜新晰黑 (LXGWNeoXiHei)
- **项目地址**: https://github.com/lxgw/LxgwNeoXiHei
- **字体类型**: 开源中文字体
- **许可证**: SIL Open Font License 1.1 (可商用)
- **字符支持**: 简体中文、繁体中文、英文、数字、符号
- **字重**: 常规、粗体

### 字体特点
- 清晰易读，适合屏幕显示
- 字形美观，笔画流畅
- 支持多种字重，层次分明
- 开源免费，使用方便

## 快速开始

### 方法1: 使用下载脚本（推荐）

1. 运行字体下载脚本：
   ```bash
   python download_fonts.py
   ```

2. 脚本会自动下载字体文件到 `static/fonts/` 目录
3. 重启应用，字体自动生效

### 方法2: 手动下载

1. 访问项目地址：https://github.com/lxgw/LxgwNeoXiHei
2. 下载以下字体文件：
   - `LXGWWenKai-Regular.ttf` (常规字体)
   - `LXGWWenKai-Bold.ttf` (粗体字体)
3. 将文件放置在 `static/fonts/` 目录下

### 方法3: CDN 下载

```bash
# 进入字体目录
cd static/fonts/

# 下载常规字体
curl -o LXGWWenKai-Regular.ttf https://cdn.jsdelivr.net/gh/lxgw/LxgwNeoXiHei/dist/LXGWWenKai-Regular.ttf

# 下载粗体字体
curl -o LXGWWenKai-Bold.ttf https://cdn.jsdelivr.net/gh/lxgw/LxgwNeoXiHei/dist/LXGWWenKai-Bold.ttf
```

## 文件结构

设置完成后，项目结构如下：

```
static/
├── fonts/
│   ├── font-setup.css          # 字体配置文件
│   ├── LXGWWenKai-Regular.ttf  # 常规字体
│   ├── LXGWWenKai-Bold.ttf     # 粗体字体
│   └── README.md               # 详细说明
├── css/
│   └── style.css               # 现有样式文件
└── ...
```

## 配置说明

### 1. 字体声明 (`font-setup.css`)

```css
/* 常规字体 */
@font-face {
  font-family: 'LXGWNeoXiHei';
  font-style: normal;
  font-weight: normal;
  src: url('LXGWWenKai-Regular.ttf') format('truetype');
  font-display: swap;
}

/* 粗体字体 */
@font-face {
  font-family: 'LXGWNeoXiHei';
  font-style: normal;
  font-weight: bold;
  src: url('LXGWWenKai-Bold.ttf') format('truetype');
  font-display: swap;
}
```

### 2. 全局字体变量

```css
:root {
  --font-family-base: 'LXGWNeoXiHei', 'Noto Sans SC', 'Microsoft YaHei', sans-serif;
}
```

### 3. 全局应用

```css
body {
  font-family: var(--font-family-base);
}
```

## 已配置的元素

字体配置已应用到以下元素：

### 基础元素
- `body` - 页面主体
- `h1, h2, h3, h4, h5, h6` - 标题
- `p, span, div` - 文本内容
- `b, strong` - 粗体文本

### 表单元素
- `input, textarea, select` - 表单控件
- `.form-label, .form-control` - 表单组件
- `button, .btn` - 按钮

### 界面组件
- `.card` - 卡片
- `.table` - 表格
- `.badge` - 徽章
- `.alert` - 提示框
- `.modal` - 模态框
- `.navbar` - 导航栏
- `.dropdown-menu` - 下拉菜单

### 特殊元素
- `code, pre` - 代码块
- `.font-monospace` - 等宽字体
- `.tooltip` - 工具提示

## 字体降级方案

如果霞鹜新晰黑字体加载失败，系统会自动使用降级字体：
1. Noto Sans SC (Google 字体)
2. Microsoft YaHei (Windows)
3. PingFang SC (macOS)
4. 系统默认中文字体

## 验证方法

### 1. 检查字体文件
确认字体文件存在：
```bash
ls -la static/fonts/
```

### 2. 浏览器检查
1. 打开网站
2. 按F12打开开发者工具
3. 检查网络面板，确认字体文件加载
4. 查看元素样式，确认使用霞鹜新晰黑

### 3. 视觉检查
- 中文字符显示是否清晰
- 字体风格是否统一
- 粗体和常规字体是否正常

## 优化设置

### 1. 字体加载优化
```css
font-display: swap; /* 避免字体加载阻塞 */
```

### 2. 高分辨率优化
```css
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
```

### 3. 移动端适配
```css
@media (max-width: 768px) {
  body {
    font-size: 14px; /* 移动端字体大小 */
  }
}
```

## 故障排除

### 字体未显示
1. 检查字体文件路径是否正确
2. 确认文件名匹配（区分大小写）
3. 清除浏览器缓存
4. 检查文件权限

### 显示异常
1. 确认字体文件完整性
2. 检查CSS文件是否正确引入
3. 验证字体文件格式

### 加载缓慢
1. 考虑使用WOFF2格式（更小）
2. 使用CDN加速字体下载
3. 启用浏览器缓存

## 自定义配置

### 修改字体权重
```css
/* 轻量级字体 */
.text-light {
  font-weight: 300;
}

/* 中等字体 */
.text-medium {
  font-weight: 500;
}

/* 重量级字体 */
.text-heavy {
  font-weight: 700;
}
```

### 添加字体大小变量
```css
:root {
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
}
```

## 更新字体

当有新版本字体时：

1. 备份当前字体文件
2. 下载新版本字体文件
3. 替换 `static/fonts/` 中的字体文件
4. 清除浏览器缓存测试

## 技术支持

- **字体项目**: https://github.com/lxgw/LxgwNeoXiHei
- **许可证**: SIL Open Font License 1.1
- **问题反馈**: 在GitHub项目中提交Issue

## 许可证说明

霞鹜新晰黑使用 SIL Open Font License 1.1，允许：
-  商业使用
-  修改和分发
-  嵌入应用
-  网页使用

无需额外授权或付费。

---

完成以上步骤后，整个系统将统一使用霞鹜新晰黑字体，提供更好的中文阅读体验！